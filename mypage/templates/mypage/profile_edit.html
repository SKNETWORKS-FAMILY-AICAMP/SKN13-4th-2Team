{% extends 'base.html' %}
{% load i18n %}

{% block content %}
    <h2 class="mb-4">프로필 편집</h2>
    <div class="card">
        <div class="card-body">
            <form enctype="multipart/form-data" id="profile-edit-form" method="post">
                {% csrf_token %}
                {{ form.as_p }}
                <button class="btn btn-primary" id="save-profile-button" type="submit">
                    <span aria-hidden="true" class="spinner-border spinner-border-sm d-none" role="status"></span>
                    <span class="button-text">변경 사항 저장</span>
                </button>
            </form>
        </div>
    </div>
    <script>
        document.getElementById('profile-edit-form').addEventListener('submit', function() {
            const button = document.getElementById('save-profile-button');
            const spinner = button.querySelector('.spinner-border');
            const buttonText = button.querySelector('.button-text');

            button.disabled = true;
            spinner.classList.remove('d-none');
            buttonText.textContent = '저장 중...';
        });
    </script>
{% endblock %}
